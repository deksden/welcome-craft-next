#. `README.md`

Документация по установке: ./SETUP.md
Описание проекта: .docs/WELCOME-CRAFT.md
Правила и стандарты проекта: .docs/RULEZZ.md

---

## Отладка и Логирование

В проекте используется гибридная система логирования для эффективной отладки.

### 1. Серверное логирование (`@fab33/sys-logger`)

На стороне сервера (API-маршруты, server actions, утилиты в `lib/`) используется структурированный логгер.

**Основные возможности:**
*   Фильтрация по `namespace` (соответствует пути к файлу).
*   Уровни логирования (`trace`, `debug`, `info`, `warn`, `error`).
*   Красивый, читаемый вывод в консоль, если установлен `pino-pretty`.

**Как использовать:**

Для включения логов во время разработки (`pnpm dev`), используйте переменные окружения в файле `.env.local` или прямо в командной строке.

**Переменные окружения:**

*   `LOG_LEVEL`: Устанавливает минимальный уровень для вывода. По умолчанию `info`.
    *   `trace`: самый подробный уровень.
    *   `debug`: для отладочной информации.
    *   `info`, `warn`, `error`, `fatal`.
*   `DEBUG`: Управляет, логи каких модулей (`namespace`) будут отображаться.
    *   `DEBUG=*`: Показать все логи.
    *   `DEBUG=api:chat:*`: Показать все логи из API чата.
    *   `DEBUG=db:queries,lib:ai:*`: Показать логи от базы данных и всех AI-модулей.
    *   `DEBUG=*,-db:queries`: Показать все, кроме логов базы данных.

**Пример конфигурации в `.env.local` для отладки:**

```bash
# Показываем все debug-сообщения от всех модулей
LOG_LEVEL=debug
DEBUG=*
```

**Пример запуска из командной строки:**

```bash
LOG_LEVEL=trace DEBUG=api:chat:*,lib:db:queries pnpm dev
```

### 2. Клиентское логирование (Browser)

На стороне клиента используется легковесная обертка над `console.log` для стандартизации вывода.

*   Логи активны только в режиме разработки.
*   Сообщения имеют префикс `[<время>] [UI:<Namespace>]` для легкой идентификации источника в консоли браузера.
*   Поддерживается создание дочерних логгеров через `.child({ key: value })` для добавления контекста.

**Пример использования в компоненте:**
```javascript
import { createClientLogger } from '@/lib/client-logger';
const logger = createClientLogger('MyComponent');

logger.info('Component has mounted.');
logger.debug('State changed:', { newState });
```
