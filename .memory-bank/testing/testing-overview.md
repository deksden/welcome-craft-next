# üß™ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.

**–í–µ—Ä—Å–∏—è:** 7.0.0  
**–î–∞—Ç–∞:** 2025-06-22  
**–°—Ç–∞—Ç—É—Å:** UC-10 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è E2E —Ç–µ—Å—Ç–æ–≤ —Å –Ω–æ–≤—ã–º–∏ UC-11, UC-02 v2.0 –∏ SiteEditorPage POM

---

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

WelcomeCraft –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –¥–ª—è –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

### –ü–∏—Ä–∞–º–∏–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. **Unit Tests (Vitest)** ‚Äî –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏
2. **Route Tests (Playwright)** ‚Äî API endpoints –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
3. **E2E Tests (Playwright)** ‚Äî —Å–∫–≤–æ–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

## üõ†Ô∏è –°—Ç–µ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### Playwright (E2E + API)
- **E2E Testing:** –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **Route Testing:** API endpoints –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **Multi-domain Support:** `app.localhost` vs `localhost` –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Vitest (Unit)
- **–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, API, `server-only`)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. Direct Cookie Header Pattern v2.0.0

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä–æ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ UI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–ü—Ä–∏–Ω—Ü–∏–ø:**
```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ test-session —á–µ—Ä–µ–∑ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
const sessionData = {
  user: { id: userId, email, name: email, type: 'regular' },
  expires: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString()
}

const newContext = await browser.newContext({
  baseURL: appURL,
  extraHTTPHeaders: {
    'Cookie': `test-session-fallback=${encodeURIComponent(JSON.stringify(sessionData))}`,
    'X-Test-Environment': 'playwright',
  },
})
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° **–ë—ã—Å—Ç—Ä–æ—Ç–∞:** ~3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç (vs 15 —Å–µ–∫—É–Ω–¥ UI-–ø–æ–¥—Ö–æ–¥)
- üéØ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ù–µ—Ç race conditions —Å middleware
- üîí **–ò–∑–æ–ª—è—Ü–∏—è:** API —Ç–µ—Å—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç UI

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** 380% —Ä–æ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—â–∏—Ö route —Ç–µ—Å—Ç–æ–≤ (10‚Üí48‚Üí82)

### 2. Use Cases + Worlds + AI Fixtures System

**–ü—Ä–∏–Ω—Ü–∏–ø:** –¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–Ω–æ–≥–æ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
// 1. Use Case —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
UC-01-Site-Publication.md // –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

// 2. World definition
SITE_READY_FOR_PUBLICATION // –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

// 3. AI Fixtures
tests/fixtures/ai/UC-01/ // –ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ AI-–æ—Ç–≤–µ—Ç—ã –¥–ª—è replay
```

**Workflow:**
1. **Record mode:** `AI_FIXTURE_MODE=record` ‚Äî –∑–∞–ø–∏—Å—å —Ä–µ–∞–ª—å–Ω—ã—Ö AI –æ—Ç–≤–µ—Ç–æ–≤
2. **Replay mode:** `AI_FIXTURE_MODE=replay` ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
3. **World isolation:** –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

### 3. Page Object Model (POM)

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è UI –ª–æ–≥–∏–∫–∏ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã.

```typescript
// tests/pages/auth-page.ts
export class AuthPage {
  constructor(private page: Page) {}
  
  async registerUser(email: string, password: string) {
    await this.page.getByTestId('auth-email-input').fill(email)
    await this.page.getByTestId('auth-password-input').fill(password)
    await this.page.getByTestId('auth-submit-button').click()
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üì¶ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤
- üõ°Ô∏è **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ò–∑–æ–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π UI –æ—Ç —Ç–µ—Å—Ç–æ–≤
- üìù **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–µ—Å—Ç–æ–≤

---

## üìã data-testid —Å–∏—Å—Ç–µ–º–∞

### –ü—Ä–∏–Ω—Ü–∏–ø
–ö–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `data-testid` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°—Ö–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
`{–∑–æ–Ω–∞}-{–∫–æ–º–ø–æ–Ω–µ–Ω—Ç}-{–æ–ø–∏—Å–∞–Ω–∏–µ}`

### –ó–æ–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **`auth-*`** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (email-input, password-input, submit-button)
- **`header-*`** ‚Äî —à–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (new-chat-button, share-button, user-menu)
- **`sidebar-*`** ‚Äî –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (artifacts-list, chat-list, settings)
- **`chat-input-*`** ‚Äî –∑–æ–Ω–∞ –≤–≤–æ–¥–∞ (textarea, send-button, attach-menu)
- **`artifact-*`** ‚Äî –ø–∞–Ω–µ–ª—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (content, actions, editors)

---

## üß™ UC-10 Schema-Driven Testing Patterns

### Artifact Savers Testing
```typescript
// tests/unit/artifacts/savers/person-saver.test.ts
describe('Person Saver', () => {
  it('should save person data to A_Person table', async () => {
    const artifact = createMockArtifact({ kind: 'person' })
    const personContent = JSON.stringify({
      fullName: 'John Doe',
      position: 'Software Engineer'
    })
    
    await personSaver.save(artifact, personContent)
    
    expect(db.insert).toHaveBeenCalledWith(personTable)
  })
})
```

### File Import Testing
```typescript
// tests/e2e/features/file-import.test.ts
test('should import .docx file and create text artifact', async ({ page }) => {
  const fileInput = page.locator('input[type="file"]')
  await fileInput.setInputFiles('./test-files/sample.docx')
  
  await expect(page.getByTestId('artifact-preview')).toBeVisible()
  
  const artifactKind = await page.getByTestId('artifact-kind').textContent()
  expect(artifactKind).toBe('text')
})
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ e2e/                    # E2E —Ç–µ—Å—Ç—ã (Playwright)
‚îÇ   ‚îú‚îÄ‚îÄ use-cases/          # Use Case —Ç–µ—Å—Ç—ã (UC-01, UC-02...)
‚îÇ   ‚îî‚îÄ‚îÄ regression/         # –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (BUG-XXX)
‚îú‚îÄ‚îÄ routes/                 # API —Ç–µ—Å—Ç—ã (Playwright) 
‚îÇ   ‚îú‚îÄ‚îÄ artifact.test.ts    # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã CRUD
‚îÇ   ‚îú‚îÄ‚îÄ auth.test.ts        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ history.test.ts     # –ò—Å—Ç–æ—Ä–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
‚îú‚îÄ‚îÄ unit/                   # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (Vitest)
‚îÇ   ‚îú‚îÄ‚îÄ artifacts/          # –õ–æ–≥–∏–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ lib/                # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ api/                # API —Ö–µ–ª–ø–µ—Ä—ã
‚îú‚îÄ‚îÄ fixtures/               # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ ai/                 # AI fixtures –¥–ª—è replay
‚îÇ   ‚îú‚îÄ‚îÄ worlds/             # World definitions
‚îÇ   ‚îî‚îÄ‚îÄ files/              # –§–∞–π–ª—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
‚îî‚îÄ‚îÄ helpers/                # –•–µ–ª–ø–µ—Ä—ã –∏ POM –∫–ª–∞—Å—Å—ã
    ‚îú‚îÄ‚îÄ auth-helper.ts      # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ test-utils.ts       # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
    ‚îî‚îÄ‚îÄ ui-helpers.ts       # UI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
```

---

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (2025-06-22)
- ‚úÖ **Route Tests:** 82/82 (100%) ‚Äî –ò–î–ï–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢
- ‚úÖ **Unit Tests:** 94/94 (100%) ‚Äî –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ UC-10  
- ‚ö†Ô∏è **E2E Tests:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, –Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã server-side –æ—à–∏–±–∫–∞–º–∏
- ‚úÖ **Regression Tests:** 9/9 (100%) ‚Äî –≤—Å–µ –±–∞–≥–∏ –ø–æ–∫—Ä—ã—Ç—ã

### E2E Status Update (2025-06-22)
- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** Direct Cookie Header Pattern —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** server-only –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- üìÅ **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:** `tests/e2e-fixtures.ts`, `tests/helpers/e2e-auth-helper.ts`

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ **TypeScript:** 0 –æ—à–∏–±–æ–∫
- ‚úÖ **Lint:** 0 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π  
- ‚úÖ **Build:** —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞

---

## üöÄ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### API Testing
```typescript
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π Direct Cookie Header Pattern
const context = await browser.newContext({
  extraHTTPHeaders: {
    'Cookie': `test-session-fallback=${sessionCookie}`
  }
})
```

### E2E Testing  
```typescript
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π POM –∏ data-testid
const authPage = new AuthPage(page)
await authPage.registerUser(email, password)
await expect(page.getByTestId('welcome-message')).toBeVisible()

// ‚úÖ UC-10 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: Site Editor POM
const siteEditor = new SiteEditorPage(page)
await siteEditor.addSiteBlock('hero')
await siteEditor.addArtifactToSlot(0, 'heading', 0)
```

### Unit Testing  
```typescript
// ‚úÖ –ú–æ–∫–∏—Ä—É–π –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
vi.mock('@/lib/db/connection')
vi.mock('server-only')
```

### –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å
```typescript
// ‚ùå –ò–∑–±–µ–≥–∞–π server-only –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ E2E —Ç–µ—Å—Ç–∞—Ö
import { getWorldData } from '../../helpers/worlds' // server-only

// ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Ö—Ä—É–ø–∫–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
await page.click('button:nth-child(3)') // –ø–ª–æ—Ö–æ
await page.getByTestId('submit-button').click() // —Ö–æ—Ä–æ—à–æ
```

---

## üîß –ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pnpm test              # E2E + Route —Ç–µ—Å—Ç—ã
pnpm test:unit         # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (94)
pnpm test:routes       # API —Ç–µ—Å—Ç—ã (82)  
pnpm test:e2e          # E2E —Ç–µ—Å—Ç—ã (16)

# AI Fixtures —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
AI_FIXTURE_MODE=record pnpm test:e2e    # –ó–∞–ø–∏—Å—å
AI_FIXTURE_MODE=replay pnpm test:e2e    # –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
```

---

## üÜï UC-10 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ E2E —Ç–µ—Å—Ç–∞—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ Use Cases

**UC-11: File Import System** (–Ω–æ–≤—ã–π)
- **–§–∞–π–ª:** `tests/e2e/use-cases/UC-11-File-Import-System.test.ts`
- **–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤ (.md, .csv, .txt) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:** –ò–º–ø–æ—Ä—Ç ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

**UC-02: Visual Site Building** (–ø–µ—Ä–µ–ø–∏—Å–∞–Ω)
- **–§–∞–π–ª:** `tests/e2e/use-cases/UC-02-Visual-Site-Building.test.ts` 
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:** –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç AI-first –∫ visual-first –ø–æ–¥—Ö–æ–¥—É
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** SiteEditorPage POM, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UC-10 –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

**UC-03: Artifact Reuse** (–¥–æ–ø–æ–ª–Ω–µ–Ω)
- **–ù–æ–≤—ã–π —Ç–µ—Å—Ç:** UC-10 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å clipboard workflow –≤ Site Editor
- **–ü—Ä–æ–≤–µ—Ä–∫–∏:** Person/address –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã ‚Üí clipboard ‚Üí Site Editor ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è

**UC-06: Content Management** (–¥–æ–ø–æ–ª–Ω–µ–Ω)  
- **–ù–æ–≤—ã–π —Ç–µ—Å—Ç:** –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ UC-10 —Ç–∏–ø–æ–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- **–ü—Ä–æ–≤–µ—Ä–∫–∏:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ person/address ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ ‚Üí DiffView –≤–∞–ª–∏–¥–∞—Ü–∏—è

**UC-01: Site Publication** (—É–≥–ª—É–±–ª–µ–Ω)
- **–ù–æ–≤—ã–π —Ç–µ—Å—Ç:** –£–≥–ª—É–±–ª–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è UC-10 –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö
- **–ü—Ä–æ–≤–µ—Ä–∫–∏:** –î–µ—Ç–∞–ª—å–Ω—ã–π person/address –∫–æ–Ω—Ç–µ–Ω—Ç ‚Üí structural validation ‚Üí responsive –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ö–ª—é—á–µ–≤—ã–µ POM –∫–ª–∞—Å—Å—ã –¥–ª—è UC-10

**SiteEditorPage** - –æ—Å–Ω–æ–≤–Ω–æ–π POM –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:
```typescript
const siteEditor = new SiteEditorPage(page)
await siteEditor.waitForSiteEditorLoad()
await siteEditor.addSiteBlock('key-contacts')
await siteEditor.addArtifactToSlot(blockIndex, slotKey, artifactIndex)
```

**Artifact Payload Factory** - —Å–æ–∑–¥–∞–Ω–∏–µ UC-10 –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:
```typescript
import { createPersonPayload, createAddressPayload } from '../../helpers/artifact-payload-factory'

const personPayload = createPersonPayload({
  content: { fullName: 'John Doe', position: 'HR Manager' }
})
```

### UC-10 –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–∏–ø–æ–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

E2E —Ç–µ—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ UC-10 —Ç–∏–ø—ã:
- ‚úÖ **person** - HR –¥–∞–Ω–Ω—ã–µ (–∏–º—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç–∞–∫—Ç—ã)
- ‚úÖ **address** - –∞–¥—Ä–µ—Å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ—Ñ–∏—Å—ã, –ª–æ–∫–∞—Ü–∏–∏)  
- ‚úÖ **text** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- ‚úÖ **site** - —Å–∞–π—Ç—ã —Å –±–ª–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- ‚úÖ **image** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã
- ‚úÖ **sheet** - —Ç–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (CSV –∏–º–ø–æ—Ä—Ç)

---

> **–ü—Ä–∏–Ω—Ü–∏–ø —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π. –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º, —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.