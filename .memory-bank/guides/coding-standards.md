# üìã WelcomeCraft Coding Standards

**–í–µ—Ä—Å–∏—è:** 3.1.0
**–î–∞—Ç–∞:** 2025-06-30
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–ö–¢–£–ê–õ–¨–ù–´–ï –°–¢–ê–ù–î–ê–†–¢–´ - –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª Best Practices & Implementation Patterns
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ `system-patterns.md` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

---

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

-   **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –Ω–µ–±–æ–ª—å—à–∏–µ, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
-   **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
-   **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** ‚Äî –µ–¥–∏–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ
-   **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî "–ß—Ç–æ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, —Ç–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
-   **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

-   **DRY** (Don't Repeat Yourself) ‚Äî –∏–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
-   **SRP** (Single Responsibility Principle) ‚Äî –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é/–∫–ª–∞—Å—Å
-   **YAGNI** (You Ain't Gonna Need It) ‚Äî –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π"
-   **–ò–∑–±–µ–≥–∞—Ç—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

---

## üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —à–∞–ø–∫–∞ —Ñ–∞–π–ª–∞

–ö–∞–∂–¥—ã–π —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π —Ñ–∞–π–ª –î–û–õ–ñ–ï–ù —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–ª–æ–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:

```typescript
/**
 * @file path/to/file.ext
 * @description –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∞–π–ª–∞.
 * @version X.Y.Z
 * @date YYYY-MM-DD
 * @updated –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
 */

/** HISTORY:
 * vX.Y.Z (YYYY-MM-DD): –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
 * vX.Y.W (YYYY-MM-DD): –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
 */
```

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

-   –ü–æ–º–µ—á–∞—Ç—å –∫–∞–∫ `@purpose [–í–†–ï–ú–ï–ù–ù–´–ô] - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ`
-   –°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–¥–∞–ª—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
-   –í—Å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Ä–∞–∑–º–µ—â–∞—Ç—å –≤ `.memory-bank/`

### –û–∫–æ–Ω—á–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

–í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:

```typescript
// END OF: src/path/to/your/file.ts
```

*(–æ–¥–Ω–∞ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è)*

---

## ‚úçÔ∏è –°—Ç–∏–ª—å –∫–æ–¥–∞

### –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

-   **–Ø–∑—ã–∫:** TypeScript, ESNext
-   **–°—Ç–∏–ª—å:** Standard JavaScript Code Style
-   **–¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π:** –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
-   **–õ–∏–Ω—Ç–µ—Ä:** `pnpm lint` ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

### –ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

-   –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –ù–ï –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
-   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã/–º–∞—Å—Å–∏–≤—ã
-   –°–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ

-   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSDoc –¥–ª—è –≤—Å–µ—Ö —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤
-   –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –æ–±—ä—è—Å–Ω—è—Ç—å "–ü–û–ß–ï–ú–£", –∞ –Ω–µ "–ß–¢–û"
-   –ò–∑–±–µ–≥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—á–µ–≤–∏–¥–Ω–æ–π –ª–æ–≥–∏–∫–∏
-   –î–æ–±–∞–≤–ª—è—Ç—å –±–ª–æ–∫ `HISTORY` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
-   –≤ jsdoc —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
-   –í jsdoc —Ñ—É–Ω–∫—Ü–∏—è–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –≤–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞!

---

## üìë –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (JSDoc)

### –î–ª—è –≤—Å–µ—Ö —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```typescript
/**
 * @description –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
 * @param {string} paramName - –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
 * @param {number} optionalParam - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
 * @returns {Promise<ResultType>} –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
 * @throws {CustomError} –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏ —É—Å–ª–æ–≤–∏–π –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è
 * @feature –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
 * @deterministic –§—É–Ω–∫—Ü–∏—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
 * @deprecated –£—Å—Ç–∞—Ä–µ–ª–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ newFunction –≤–º–µ—Å—Ç–æ —ç—Ç–æ–π
 */
```

### –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–≥–∏:

-   `@description` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
-   `@param` ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
-   `@returns` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
-   `@throws` ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏:

-   `@feature` ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
-   `@deterministic` ‚Äî –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∞
-   `@deprecated` ‚Äî –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

1.  **Vitest** ‚Äî —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (`tests/unit/`)
2.  **Playwright** ‚Äî E2E –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/e2e/`, `tests/routes/`)

### –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Vitest)

-   **–ò–∑–æ–ª—è—Ü–∏—è:** –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
-   **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, API, `server-only`) –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `vi.mock()`
-   **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–æ–≤—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫—Ä—ã–≤–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏
-   **–ó–∞–ø—É—Å–∫:** `pnpm test:unit:watch` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–∏–¥–±–µ–∫–∞

### E2E-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Playwright) - –ñ–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–µ –¢–µ—Å—Ç—ã

**–ê–†–•–ò–¢–ï–ö–¢–£–†–ê:** Page Object Model (POM) —Å fail-fast –ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ñ–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã—Ö –¢–µ—Å—Ç–æ–≤:

1.  **POM –¥–ª—è –≤—Å–µ–π UI –ª–æ–≥–∏–∫–∏** ‚Äî –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ Page Objects
2.  **data-testid –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤** ‚Äî —Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
3.  **Fail-fast –ª–æ–∫–∞—Ç–æ—Ä—ã —Å 2-—Å–µ–∫—É–Ω–¥–Ω—ã–º timeout** ‚Äî –±—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
4.  **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** ‚Äî `authPage.registerUser()` –≤–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —à–∞–≥–æ–≤
5.  **–ù–∏–∫–∞–∫–∏—Ö hardcoded URLs** ‚Äî –≤—Å–µ URL —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

#### –ù–æ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ testid:

-   `auth-*` ‚Äî —Ñ–æ—Ä–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (email-input, password-input, submit-button)
-   `header-*` ‚Äî —à–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ª–æ–≥–æ—Ç–∏–ø, –Ω–æ–≤—ã–π —á–∞—Ç, share, —Ç–µ–º–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
-   `sidebar-*` ‚Äî –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (—á–∞—Ç—ã, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
-   `chat-input-*` ‚Äî –∑–æ–Ω–∞ –≤–≤–æ–¥–∞ —á–∞—Ç–∞ (textarea, send-button, attach-menu)
-   `artifact-*` ‚Äî –ø–∞–Ω–µ–ª—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (–∫–æ–Ω—Ç–µ–Ω—Ç, –¥–µ–π—Å—Ç–≤–∏—è, —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã)

---

## ‚ú® Best Practices & Implementation Patterns

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ WelcomeCraft.

### 1. SWR Dialog Rendering Pattern

**–ü—Ä–æ–±–ª–µ–º–∞:** Race condition –º–µ–∂–¥—É custom events, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –¥–∏–∞–ª–æ–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SitePublicationDialog`), –∏ SWR, –∫–æ—Ç–æ—Ä—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –¥–∏–∞–ª–æ–≥–∞ –¥–∞–Ω–Ω—ã–µ.

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1.  **Fallback Objects:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–∏–∞–ª–æ–≥–∞ –≤—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç "fallback-–æ–±—ä–µ–∫—Ç" —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ `cannot read properties of undefined`.
2.  **SWR Retry Logic:** SWR-—Ö—É–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (`refreshInterval`), –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.
3.  **UI Feedback:** –í–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –¥–∏–∞–ª–æ–≥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–∫–µ–ª–µ—Ç–æ–Ω—ã –∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏.

```typescript
// –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
const { data: fullArtifact } = useSWR(
  artifactId ? `/api/artifacts/${artifactId}` : null,
  fetcher,
  { 
    refreshInterval: (data) => !data ? 3000 : 0, // –ü–æ–≤—Ç–æ—Ä—è—Ç—å –ø–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
  }
)

const fallbackArtifact = { id: '', title: '', ... };

<SitePublicationDialog 
  siteArtifact={fullArtifact || fallbackArtifact} 
/>
```

### 2. Elegant UI Synchronization System

**–ü—Ä–æ–±–ª–µ–º–∞:** UI —Å–ø–∏—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤) –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ API-–æ–ø–µ—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ) –∏–∑-–∑–∞ `revalidateOnFocus: false` –≤ SWR.

**–ü–∞—Ç—Ç–µ—Ä–Ω:** –ß–µ—Ç—ã—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ, –Ω–æ "—ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–≥–æ" (–±–µ–∑ `page.reload()`) –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI.
1.  **Global Utils Level (`lib/elegant-refresh-utils.ts`):** `triggerArtifactListRefresh()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ `window.CustomEvent('artifact-list-refresh')`.
2.  **API Middleware Level (`lib/api-response-middleware.ts`):** `createApiResponseWithRefresh()` –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ `X-Trigger-Refresh` –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —É—Å–ø–µ—à–Ω—ã–µ API-–æ—Ç–≤–µ—Ç—ã.
3.  **React Hook Level (`hooks/use-elegant-artifact-refresh.ts`):** `useElegantArtifactRefresh()` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º `refreshArtifacts()` —Ñ—É–Ω–∫—Ü–∏—é.
4.  **Component Integration Level:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ArtifactGridClientWrapper`) —Å–ª—É—à–∞—é—Ç `artifact-list-refresh` event –∏ –≤—ã–∑—ã–≤–∞—é—Ç `mutate()` –¥–ª—è SWR.

### 3. Redis Clipboard System

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π "–±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞" –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏.

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1.  **Server Actions:** `copyArtifactToClipboard()`, `getArtifactFromClipboard()`, `clearArtifactFromClipboard()`.
2.  **Redis:** –ö–ª—é—á `user-clipboard:${userId}` —Å TTL 60 —Å–µ–∫—É–Ω–¥.
3.  **UX Flow:** –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤ —á–∞—Ç" —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ Redis. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞ UI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Redis –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "—á–µ—Ä–Ω–æ–≤–∏–∫" –≤–ª–æ–∂–µ–Ω–∏—è.

### 4. Modern Site Design System (Tilda-style)

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTML-–±–ª–æ–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö —Å–∞–π—Ç–æ–≤.

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1.  **Visual Hierarchy:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤, —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —à—Ä–∏—Ñ—Ç–æ–≤ –∏ –æ—Ç—Å—Ç—É–ø–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.
2.  **Interactive Elements:** `group-hover` —ç—Ñ—Ñ–µ–∫—Ç—ã, –ø–ª–∞–≤–Ω—ã–µ `transition-all`, `hover:shadow-lg` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
3.  **Card-Based Design:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∫–æ–Ω—Ç–∞–∫—Ç—ã, —Å—Å—ã–ª–∫–∏).
4.  **Animation Delights:** –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ "blobs" –Ω–∞ —Ñ–æ–Ω–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏–∫–∏.

```css
/* –ü—Ä–∏–º–µ—Ä –∏–∑ globals.css */
@keyframes blob {
  '0%': { transform: 'translate(0px, 0px) scale(1)' },
  '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
  '100%': { transform: 'translate(0px, 0px) scale(1)' }
}
```

### 5. Webpack Logs Optimization Pattern

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ Next.js `tsconfig-paths` –ø–ª–∞–≥–∏–Ω—ã –∑–∞—Å–æ—Ä—è—é—Ç –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤.

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1.  **Multi-Level Suppression:** –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
2.  **`next.config.ts`:** –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ `TsconfigPathsPlugin` –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –µ–º—É `logLevel: 'silent'`.
3.  **Environment Variables:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `WEBPACK_LOGGING=false` –∏ `DEBUG=""` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–æ–≤.
4.  **Silent Server Script:** –î–ª—è route-—Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `scripts/start-silent-server.sh`, –∫–æ—Ç–æ—Ä—ã–π —á–µ—Ä–µ–∑ `grep -v` –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ª–æ–≥–∏.

### 6. Next.js 15 Server Component Compliance Pattern

**–ü—Ä–æ–±–ª–µ–º–∞:** Next.js 15 –≤–≤–æ–¥–∏—Ç —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Server Components, –≤–∫–ª—é—á–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ `searchParams` –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ `server-only` / `client-only` –∫–æ–¥–∞.

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1.  **Server Components First:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–Ω—ã–º–∏. `'use client'` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
2.  **Async `searchParams`:** `searchParams` –≤ Server Components —Ç–µ–ø–µ—Ä—å —è–≤–ª—è—é—Ç—Å—è `Promise`, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ `await`.
3.  **Client/Server Boundary:** –°—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ. `server-only` –º–æ–¥—É–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `lib/db/queries.ts`) –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Server Components. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ props.
