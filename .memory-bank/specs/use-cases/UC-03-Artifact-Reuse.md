# UC-03: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

**ID –°—Ü–µ–Ω–∞—Ä–∏—è:** UC-03  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å:** –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å - —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2025-06-18

---

## 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –¶–µ–ª—å

**–ö–∞–∫** HR-–º–µ–Ω–µ–¥–∂–µ—Ä "Maria",  
**–Ø —Ö–æ—á—É** —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ç CEO –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–Ω–±–æ—Ä–¥–∏–Ω–≥-—Å–∞–π—Ç–∞—Ö,  
**–ß—Ç–æ–±—ã** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã.

## 2. –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (–¢–µ—Å—Ç–æ–≤—ã–π "–ú–∏—Ä")

- **–ú–∏—Ä:** `WORLDS.CONTENT_LIBRARY_BASE`
- **–û–ø–∏—Å–∞–Ω–∏–µ –º–∏—Ä–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "Maria" –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω. –í —Å–∏—Å—Ç–µ–º–µ —É–∂–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: "Welcome –æ—Ç CEO", "–ö–æ–Ω—Ç–∞–∫—Ç—ã HR", "–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏". –ï—Å—Ç—å –æ–¥–∏–Ω –ø—É—Å—Ç–æ–π —Å–∞–π—Ç –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π.

## 3. –°—Ü–µ–Ω–∞—Ä–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ß–∞—Å—Ç—å 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–î–∞–Ω–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "Maria" –≤ –Ω–æ–≤–æ–º —á–∞—Ç–µ
- **–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "–°–æ–∑–¥–∞–π —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ç CEO –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
- **–¢–æ–≥–¥–∞:** AI —Å–æ–∑–¥–∞–µ—Ç text –∞—Ä—Ç–µ—Ñ–∞–∫—Ç "Welcome –æ—Ç CEO" —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
- **–ò:** –ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ß–∞—Å—Ç—å 2: Clipboard workflow
- **–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É site –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É
- **–ò:** –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –≤ —á–∞—Ç" –≤ –ø–∞–Ω–µ–ª–∏ text –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ "Welcome –æ—Ç CEO"
- **–¢–æ–≥–¥–∞:** –ü–æ—è–≤–ª—è–µ—Ç—Å—è toast "–°—Å—ã–ª–∫–∞ –Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞"
- **–ò:** –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ Redis clipboard —Å TTL 60 —Å–µ–∫—É–Ω–¥

### –ß–∞—Å—Ç—å 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–∞–π—Ç —á–µ—Ä–µ–∑ attachment
- **–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º site –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–º
- **–ò:** –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "—Å–∫—Ä–µ–ø–∫–∞" –≤ chat input
- **–¢–æ–≥–¥–∞:** –í dropdown –º–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ü–∏—è "–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞: Welcome –æ—Ç CEO"
- **–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —ç—Ç—É –æ–ø—Ü–∏—é
- **–¢–æ–≥–¥–∞:** –í —á–∞—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è attachment —Å reference –Ω–∞ text –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
- **–ò:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç welcome-—Ç–µ–∫—Å—Ç –≤ hero –±–ª–æ–∫ —Å–∞–π—Ç–∞"
- **–ò:** AI –æ–±–Ω–æ–≤–ª—è–µ—Ç site –∞—Ä—Ç–µ—Ñ–∞–∫—Ç, –¥–æ–±–∞–≤–ª—è—è reference –Ω–∞ text –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ hero —Å–ª–æ—Ç

### –ß–∞—Å—Ç—å 4: –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- **–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∑–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç "Welcome –æ—Ç CEO" –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
- **–¢–æ–≥–¥–∞:** –í—Å–µ —Å–∞–π—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ "–ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ù–æ:** –°–∞–π—Ç—ã —Å "–∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π" –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ò:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É "–ø–æ—Å–ª–µ–¥–Ω–µ–π" –∏ "–∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–π" –≤–µ—Ä—Å–∏–µ–π –≤ Site Editor

## 4. Acceptance Criteria

‚úÖ **Clipboard —Å–∏—Å—Ç–µ–º–∞:**
- [ ] "–î–æ–±–∞–≤–∏—Ç—å –≤ —á–∞—Ç" –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ø–∞–Ω–µ–ª–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- [ ] Redis clipboard —Å TTL 60 —Å–µ–∫—É–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Attachment menu –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏–∑ clipboard
- [ ] Cross-page clipboard —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ window focus events

‚úÖ **AI –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
- [ ] AI –ø–æ–Ω–∏–º–∞–µ—Ç attachment references –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- [ ] AI –º–æ–∂–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ site structure
- [ ] AI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ª–æ—Ç—ã —Å–∞–π—Ç–∞ —Å references –Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] Site Editor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—Ç–∞ (latest vs pinned)
- [ ] "–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
- [ ] "–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è" –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π
- [ ] Dropdown –º–µ–Ω—é –≤–µ—Ä—Å–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

‚úÖ **UX workflow:**
- [ ] –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å clipboard
- [ ] Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ attachment menu
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- [ ] Intuitive –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## 5. –°–≤—è–∑–∞–Ω–Ω—ã–π E2E-—Ç–µ—Å—Ç

- **üîó –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `tests/e2e/use-cases/UC-03-Artifact-Reuse.test.ts`
- **–ú–∏—Ä:** `WORLDS.CONTENT_LIBRARY_BASE`
- **AI –§–∏–∫—Å—Ç—É—Ä—ã:** `text-creation-ceo-welcome.json`, `site-update-with-reference.json`

## 6. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**Redis Clipboard:**
- `copyArtifactToClipboard()` server action
- `getArtifactFromClipboard()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- TTL 60 —Å–µ–∫—É–Ω–¥ —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π
- Cross-page —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ window focus

**Artifact References:**
- Tool-invocation –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è attachment display
- ArtifactPreview –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- AI –ø–æ–Ω–∏–º–∞–Ω–∏–µ attached artifacts –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

**–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Composite primary key `(id, createdAt)` –≤ –ë–î
- "Latest version" vs "pinned version" –ª–æ–≥–∏–∫–∞
- Site Editor —Å dropdown –≤—ã–±–æ—Ä–∞ –≤–µ—Ä—Å–∏–π
- Automatic updates –¥–ª—è latest version references

## 7. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Redis KV –¥–ª—è clipboard (Vercel KV / Upstash)
- Tool-invocation messaging –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Site Editor —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–ª–æ—Ç–æ–≤
- SWR –¥–ª—è real-time updates

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ArtifactPreview –¥–ª—è attachment display
- Attachment menu –≤ ChatInput
- Version selector dropdown –≤ Site Editor
- Toast notifications —Å–∏—Å—Ç–µ–º–∞

**API endpoints:**
- `/api/artifacts/clipboard/*` –¥–ª—è Redis –æ–ø–µ—Ä–∞—Ü–∏–π
- `/api/artifact` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è specific versions
- Artifact server actions –¥–ª—è clipboard management

---

> **–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç:** –≠—Ç–æ—Ç use case –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å WelcomeCraft - —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç HR –∫–æ–º–∞–Ω–¥–∞–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ —ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥-–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.